<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Truth or Tease Live ğŸ’‹</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Age gate -->
  <div id="ageGate" class="overlay">
    <div class="age-gate-card">
      <div class="age-icon">ğŸ”</div>
      <h1>Truth or Tease</h1>
      <p class="tagline">Spicy truths & cheeky dares â€” live</p>
      <p class="age-text">This game contains adult-themed content.<br>You must be 18+ to enter.</p>
      <button id="ageConfirmBtn" class="btn btn-primary btn-large">I'm 18+ â€” Let Me In</button>
      <button id="ageDenyBtn" class="btn btn-secondary">I'm Under 18</button>
    </div>
  </div>

  <!-- Lobby -->
  <div id="lobbyScreen" class="screen hidden">
    <div class="lobby-container">
      <div class="lobby-header">
        <h1 class="logo">ğŸ’‹ Truth or Tease <span class="live-tag">LIVE</span></h1>
        <p class="subtitle">Spill truths. Take the tease. No mercy.</p>
      </div>
      <div class="lobby-form">
        <div class="input-group">
          <label for="playerName">Your Name</label>
          <input type="text" id="playerName" placeholder="Enter your name..." maxlength="20" autocomplete="off">
        </div>
        <div class="lobby-actions">
          <button id="createRoomBtn" class="btn btn-primary"><span class="btn-icon">ğŸ‰</span> Create Room</button>
          <div class="divider"><span>OR</span></div>
          <div class="join-row">
            <input type="text" id="roomCodeInput" placeholder="Room Code" maxlength="6" class="room-code-input">
            <button id="joinRoomBtn" class="btn btn-secondary">Join</button>
          </div>
        </div>
        <div class="room-settings">
          <div class="setting-row">
            <label>Rounds:</label>
            <div class="selector">
              <button class="sel-btn" data-rounds="2">2</button>
              <button class="sel-btn active" data-rounds="3">3</button>
              <button class="sel-btn" data-rounds="5">5</button>
            </div>
          </div>
          <div class="setting-row">
            <label>Heat ğŸŒ¶ï¸:</label>
            <div class="selector">
              <button class="heat-btn" data-heat="1">Mild</button>
              <button class="heat-btn active" data-heat="2">Spicy</button>
              <button class="heat-btn" data-heat="3">Extreme</button>
            </div>
          </div>
        </div>
      </div>
      <div id="activeRooms" class="active-rooms hidden">
        <h3>ğŸ”¥ Active Rooms</h3>
        <div id="roomListContainer" class="room-list"></div>
      </div>
    </div>
  </div>

  <!-- Waiting room -->
  <div id="waitingScreen" class="screen hidden">
    <div class="waiting-container">
      <h2>Room: <span id="roomCodeDisplay" class="room-code"></span></h2>
      <p class="share-text">Share this code with your friends!</p>
      <div id="waitingPlayers" class="player-grid"></div>
      <div class="waiting-actions">
        <button id="startGameBtn" class="btn btn-primary btn-large" disabled>Need 2+ players to start</button>
        <p class="player-count">Players: <span id="playerCount">0</span>/10</p>
      </div>
    </div>
  </div>

  <!-- Game screen -->
  <div id="gameScreen" class="screen hidden">
    <div class="game-layout">
      <!-- Left panel â€” players -->
      <div class="players-panel">
        <div class="round-info">Round <span id="roundDisplay">1</span> / <span id="maxRoundDisplay">3</span></div>
        <div id="playerList" class="player-list"></div>
      </div>

      <!-- Center â€” question / answer / voting area -->
      <div class="center-stage">
        <div class="top-bar">
          <div id="phaseLabel" class="phase-label">Waitingâ€¦</div>
          <div id="timerDisplay" class="timer">30</div>
        </div>

        <!-- Question phase -->
        <div id="questionPhase" class="phase-panel hidden">
          <div class="question-card">
            <span id="questionBadge" class="q-badge">Truth</span>
            <p id="questionText" class="q-text"></p>
          </div>
          <div id="hotSeatLabel" class="hotseat-label"></div>
          <!-- Answer input (hot-seat only) -->
          <div id="answerBox" class="answer-box hidden">
            <textarea id="answerInput" placeholder="Type your answerâ€¦" maxlength="500" rows="3"></textarea>
            <button id="submitAnswerBtn" class="btn btn-primary">Submit Answer</button>
          </div>
          <div id="waitingForAnswer" class="waiting-msg hidden">Waiting for their answerâ€¦</div>
        </div>

        <!-- Voting phase -->
        <div id="votingPhase" class="phase-panel hidden">
          <div class="question-card small">
            <span id="voteQuestionBadge" class="q-badge">Truth</span>
            <p id="voteQuestionText" class="q-text"></p>
          </div>
          <div class="answer-reveal">
            <span id="answerAuthor" class="answer-author"></span>
            <p id="revealedAnswer" class="revealed-answer"></p>
          </div>
          <div id="reactionBar" class="reaction-bar">
            <button class="reaction-btn" data-emoji="ğŸ”¥">ğŸ”¥</button>
            <button class="reaction-btn" data-emoji="ğŸ˜‚">ğŸ˜‚</button>
            <button class="reaction-btn" data-emoji="ğŸ˜±">ğŸ˜±</button>
            <button class="reaction-btn" data-emoji="ğŸ¥¶">ğŸ¥¶</button>
            <button class="reaction-btn" data-emoji="ğŸ‘‘">ğŸ‘‘</button>
          </div>
          <div id="voteStatus" class="vote-status"></div>
          <div id="liveReactions" class="live-reactions"></div>
        </div>

        <!-- Chat -->
        <div class="chat-strip">
          <div id="chatMessages" class="chat-messages"></div>
          <div class="chat-input-area">
            <input type="text" id="chatInput" placeholder="Chatâ€¦" maxlength="200" autocomplete="off">
            <button id="sendBtn" class="btn btn-send">â¤</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Round-end overlay -->
  <div id="roundEndOverlay" class="overlay hidden">
    <div class="round-end-card">
      <h2 id="roundEndTitle"></h2>
      <p id="roundEndQuestion" class="round-end-q"></p>
      <p id="roundEndAnswer" class="round-end-a"></p>
      <div id="roundEndReactions" class="round-end-reactions"></div>
      <div id="roundEndScores" class="round-end-scores"></div>
    </div>
  </div>

  <!-- Game over overlay -->
  <div id="gameOverOverlay" class="overlay hidden">
    <div class="game-over-card">
      <h1>ğŸ† Game Over!</h1>
      <div id="finalScores" class="final-scores"></div>
      <button id="playAgainBtn" class="btn btn-primary btn-large">Play Again</button>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="app.js"></script>
</body>
</html>
