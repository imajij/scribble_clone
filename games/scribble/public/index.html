<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scribble After Dark ğŸŒ™</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Age verification overlay -->
  <div id="ageGate" class="overlay">
    <div class="age-gate-card">
      <div class="age-icon">ğŸ”</div>
      <h1>Scribble After Dark</h1>
      <p class="tagline">The drawing game for grown-ups</p>
      <p class="age-text">This game contains adult-themed content.<br>You must be 18+ to enter.</p>
      <button id="ageConfirmBtn" class="btn btn-primary btn-large">I'm 18+ â€” Let Me In</button>
      <button id="ageDenyBtn" class="btn btn-secondary">I'm Under 18</button>
    </div>
  </div>

  <!-- Lobby screen -->
  <div id="lobbyScreen" class="screen hidden">
    <div class="lobby-container">
      <div class="lobby-header">
        <h1 class="logo">ğŸŒ™ Scribble After Dark</h1>
        <p class="subtitle">Draw naughty, guess together â€” couples only</p>
      </div>

      <div class="lobby-form">
        <div class="input-group">
          <label for="playerName">Your Name</label>
          <input type="text" id="playerName" placeholder="Enter your name..." maxlength="20" autocomplete="off">
        </div>

        <div class="lobby-actions">
          <button id="createRoomBtn" class="btn btn-primary">
            <span class="btn-icon">ğŸ‰</span> Create Room
          </button>
          <div class="divider"><span>OR</span></div>
          <div class="join-row">
            <input type="text" id="roomCodeInput" placeholder="Room Code" maxlength="6" class="room-code-input">
            <button id="joinRoomBtn" class="btn btn-secondary">Join</button>
          </div>
        </div>

        <div class="room-settings">
          <label>Rounds: </label>
          <div class="round-selector">
            <button class="round-btn" data-rounds="2">2</button>
            <button class="round-btn active" data-rounds="3">3</button>
            <button class="round-btn" data-rounds="5">5</button>
            <button class="round-btn" data-rounds="8">8</button>
          </div>
        </div>
      </div>

      <!-- Active Rooms -->
      <div id="activeRooms" class="active-rooms hidden">
        <h3>ğŸ”¥ Active Rooms</h3>
        <div id="roomListContainer" class="room-list"></div>
      </div>
    </div>
  </div>

  <!-- Waiting room -->
  <div id="waitingScreen" class="screen hidden">
    <div class="waiting-container">
      <h2>Room: <span id="roomCodeDisplay" class="room-code"></span></h2>
      <p class="share-text">Share this code with your partner!</p>

      <div id="waitingPlayers" class="player-grid"></div>

      <div class="waiting-actions">
        <button id="startGameBtn" class="btn btn-primary btn-large" disabled>
          Need 2+ players to start
        </button>
        <p class="player-count">Players: <span id="playerCount">0</span>/8</p>
      </div>
    </div>
  </div>

  <!-- Game screen -->
  <div id="gameScreen" class="screen hidden">
    <div class="game-layout">
      <!-- Left sidebar - Players -->
      <div class="players-panel">
        <div class="round-info">
          Round <span id="roundDisplay">1</span> / <span id="maxRoundDisplay">3</span>
        </div>
        <div id="playerList" class="player-list"></div>
      </div>

      <!-- Center - Canvas -->
      <div class="canvas-area">
        <!-- Top bar -->
        <div class="top-bar">
          <div id="wordHint" class="word-hint">Waiting...</div>
          <div id="timerDisplay" class="timer">80</div>
        </div>

        <!-- Word choosing overlay -->
        <div id="wordChoiceOverlay" class="word-choice-overlay hidden">
          <h3>Choose a word to draw:</h3>
          <div id="wordChoices" class="word-choices"></div>
          <div class="word-choice-custom">
            <span class="custom-word-divider">â€” or type your own â€”</span>
            <div class="custom-word-row">
              <input type="text" id="customWordInput" class="custom-word-input" placeholder="Enter a custom wordâ€¦" maxlength="50" autocomplete="off" />
              <button id="customWordBtn" class="custom-word-btn">Draw This</button>
            </div>
          </div>
        </div>

        <!-- Drawing info overlay -->
        <div id="drawingInfoOverlay" class="drawing-info-overlay hidden">
          <p id="drawingInfoText"></p>
        </div>

        <!-- Canvas -->
        <canvas id="drawCanvas" width="800" height="600"></canvas>

        <!-- Drawing tools -->
        <div id="drawTools" class="draw-tools hidden">
          <div class="color-palette">
            <button class="color-btn active" data-color="#000000" style="background:#000000"></button>
            <button class="color-btn" data-color="#FFFFFF" style="background:#FFFFFF; border:2px solid #ccc"></button>
            <button class="color-btn" data-color="#FF0000" style="background:#FF0000"></button>
            <button class="color-btn" data-color="#FF6B35" style="background:#FF6B35"></button>
            <button class="color-btn" data-color="#FBBF24" style="background:#FBBF24"></button>
            <button class="color-btn" data-color="#22C55E" style="background:#22C55E"></button>
            <button class="color-btn" data-color="#3B82F6" style="background:#3B82F6"></button>
            <button class="color-btn" data-color="#8B5CF6" style="background:#8B5CF6"></button>
            <button class="color-btn" data-color="#EC4899" style="background:#EC4899"></button>
            <button class="color-btn" data-color="#78350F" style="background:#78350F"></button>
            <button class="color-btn" data-color="#6B7280" style="background:#6B7280"></button>
            <button class="color-btn" data-color="#FDE68A" style="background:#FDE68A"></button>
          </div>
          <div class="brush-sizes">
            <button class="size-btn" data-size="2"><span style="width:4px;height:4px"></span></button>
            <button class="size-btn active" data-size="5"><span style="width:8px;height:8px"></span></button>
            <button class="size-btn" data-size="10"><span style="width:14px;height:14px"></span></button>
            <button class="size-btn" data-size="20"><span style="width:22px;height:22px"></span></button>
          </div>
          <div class="tool-actions">
            <button id="eraserBtn" class="tool-btn" title="Eraser">ğŸ§¹</button>
            <button id="fillBtn" class="tool-btn" title="Fill">ğŸª£</button>
            <button id="undoBtn" class="tool-btn" title="Undo">â†©ï¸</button>
            <button id="clearBtn" class="tool-btn" title="Clear All">ğŸ—‘ï¸</button>
          </div>
        </div>
      </div>

      <!-- Right sidebar - Chat -->
      <div class="chat-panel">
        <div id="chatMessages" class="chat-messages"></div>
        <div class="chat-input-area">
          <input type="text" id="chatInput" placeholder="Type your guess..." maxlength="100" autocomplete="off">
          <button id="sendBtn" class="btn btn-send">â¤</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Turn end overlay -->
  <div id="turnEndOverlay" class="overlay hidden">
    <div class="turn-end-card">
      <h2 id="turnEndTitle"></h2>
      <p id="turnEndWord" class="revealed-word"></p>
      <div id="turnEndScores" class="turn-scores"></div>
    </div>
  </div>

  <!-- Game over overlay -->
  <div id="gameOverOverlay" class="overlay hidden">
    <div class="game-over-card">
      <h1>ğŸ† Game Over!</h1>
      <div id="finalScores" class="final-scores"></div>
      <button id="playAgainBtn" class="btn btn-primary btn-large">Play Again</button>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="canvas.js"></script>
  <script src="app.js"></script>
</body>
</html>
